---
const base = import.meta.env.BASE_URL;

// Normalize current path (strip base)
const currentPath = Astro.url.pathname.replace(base, "/");

// Active link helper
const isActive = (path) =>
  currentPath === path || currentPath.startsWith(path + "/");
---

<nav aria-label="Primary">
  <div class="nav-container">
    <a href={base} class="nav-brand">Animesh Singh</a>

    <ul class="nav-links">
      <li>
        <a
          href={`${base}projects/`}
          aria-current={isActive("/projects") ? "page" : undefined}
        >
          Projects
        </a>
      </li>

      <li>
        <a
          href={`${base}photography/`}
          aria-current={isActive("/photography") ? "page" : undefined}
        >
          Photography
        </a>
      </li>

      <li>
        <a
          href={`${base}music/`}
          aria-current={isActive("/music") ? "page" : undefined}
        >
          Music
        </a>
      </li>

      <li>
        <a
          href={`${base}about/`}
          aria-current={isActive("/about") ? "page" : undefined}
        >
          About
        </a>
      </li>

      <li>
        <a
          href={`${base}contact/`}
          aria-current={isActive("/contact") ? "page" : undefined}
        >
          Contact
        </a>
      </li>
    </ul>
  </div>
</nav>
